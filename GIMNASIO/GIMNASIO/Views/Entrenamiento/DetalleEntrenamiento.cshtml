@model GIMNASIO.Models.EntrenamientoUsuarioViewModel

@{
    ViewData["Title"] = "DetalleEntrenamiento";
}

<div class="container text-center">
    <h2>Detalle del Entrenamiento</h2>
    <hr>
</div>
<br />

@if (TempData["Mensaje"] != null)
{
    <div class="alert alert-info alert-dismissible fade show" role="alert">
        @TempData["Mensaje"]
        <button type="button" class="close" data-dismiss="alert" aria-label="Cerrar">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <br />
}

<div class="card mb-3">
    <div class="card-body justify-content-center text-center">
        <div class="row mt-2 mb-3">
            <div class="col-xl-6 col-md-12 col-sm-12">
                <div class="col"><h5><b>Cupo Total: </b>@Model.Entrenamiento.EntrenamientoCupoTotal</h5></div>
            </div>
            <div class="col-xl-6 col-md-12 col-sm-12">
                <div class="col"><h5><b>Cupo Disponible: </b>@Model.Entrenamiento.EntrenamientoCupoDisponible</h5></div>
            </div>
            <div class="col-xl-4 col-md-12 col-sm-12">
                <div class="col"><h5><b>Zona: </b>@Model.Entrenamiento.entrenamientozona.EntrenamientoZona_Nombre</h5></div>
            </div>
            <div class="col-xl-4 col-md-12 col-sm-12">
                <div class="col"><h5><b>Estado: </b>@Model.Entrenamiento.entrenamientoestado.Entrenamiento_NombreEstado</h5></div>
            </div>
            <div class="col-xl-4 col-md-12 col-sm-12">
                <div class="col"><h5><b>Categoría: </b>@Model.Entrenamiento.entrenamientocategoria.EntrenamientoCategoria_Nombre</h5></div>
            </div>
            <div class="col-12">
                <div class="col"><h5><b>Entrenador: </b>@Model.Entrenamiento.Cliente.Nombres @Model.Entrenamiento.Cliente.ApellidoP  @Model.Entrenamiento.Cliente.ApellidoM</h5></div>
            </div>
            <div class="col-12">
                <div class="col"><h5><b>Descripción: </b>@Model.Entrenamiento.EntrenamientoDescripcion</h5></div>
            </div>
        </div>
    </div>
</div>

<div class="container text-center">
    <h3>Lista de Asistentes</h3>
</div>

<br />
<table class="table table-striped table-responsive-lg">
    <thead>
        <tr>
            <th>
                Rut
            </th>
            <th>
                Nombre
            </th>
            <th>
                Correo
            </th>
            <th>
                Teléfono
            </th>
            <th>
                Eliminar
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var E in Model.ListaEntrenamiento)
        {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => E.Cliente.Rut)
            </td>
            <td>
                @Html.DisplayFor(modelItem => E.Cliente.Nombres) @Html.DisplayFor(modelItem => E.Cliente.ApellidoP) @Html.DisplayFor(modelItem => E.Cliente.ApellidoM)
            </td>
            <td>
                @Html.DisplayFor(modelItem => E.Cliente.Correo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => E.Cliente.Telefono)
            </td>
            <td>
                <a asp-action="EliminarClienteDeEntrenamiento"
                   asp-controller="Entrenamiento" 
                    class="btn btn-primary" 
                    asp-route-EntrenamientoId="@E.entrenamiento.EntrenamientoId"
                    asp-route-ClienteId="@E.Cliente.Id">
                    Dar de baja
                </a>
            </td>
        </tr>
        }
    </tbody>
</table>